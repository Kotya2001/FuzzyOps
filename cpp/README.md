# Инструкция по использованию использованию библиотеки в С++ коде
С помощью Pythin С/С++ API (https://docs.python.org/3/c-api/index.html) можно осуществить прямой вызов всех классов и функций библиотеки fuzzyops в коде на С++

Принцип работы следующий:

Необходимо установить Python версии 3.10 и выше в систему (Linux, Windows, Macos, принцип одинаковый)
(можно также использовать anaconda для создания окружения https://www.anaconda.com, а не использовать системное)

В папках с файлами с установленным Python в директории include содержится заголовчный файл Python.h, в директории lib содержаться динамические библиотеки.

С помощью его включения в проект на С++ (#include <Python.h>), компиляцией кода на С++ со следующими флагами:
	
- -I флаг используется для указания дополнительных директорий, в которых компилятор будет искать заголовочные файлы (.h). 
Например, имеем вот такой путь к директории include
/usr/include/python3.10 указывает компилятору g++, что он должен искать заголовочные файлы, такие как Python.h, в указанной директории. 
(Необходимо найти директорию с загловочными файлами Python, обычно директория include)

- -L флаг указывает пути, в которых компилятор будет искать динамические
библиотеки (.so или .a файлы) при компоновке (линковке) программы.
Например, имеем вот такой вот путь к директории lib с файлами /usr/lib/python3.10/config-3.10-x86_64-linux-gnu говорит компилятору искать библиотеки в данной директории (директории /usr/lib).
(Необходимо найти директорию с библиотеками Python, обычно директория lib)

- -l флаг указывает компилятору, какую конкретную библиотеку следует подключить к программе. После -l указывается название библиотеки без префикса lib и расширения
Например, -lpython3.10 показывает компилятору, что необходимо подключить библиотеку libpython3.10.so (или аналогичную) для использования функций, определённых в Python API.

И предварительной установкой библиотеки fuzzyops либо в системное окружение, либо, например в окружение anaconda (если вы ее используете) можно напрямую вызывать функции и классы из библиотеки на Python в С++ программе.

## Описание директории

В директории приведены примеры кода на Python библиотеки fuzzyops и соответствующие им примеры кода на C++ (как осуществлять вызов функций и классов библиотеки), также приведен пример Makefile с помощью которого, можно собрать и протестировать выполнение кода. 
В примерах на С++ используются типовые функции из
Python.h, использование других модулей библиотеки fuzzyops в С++ коде делается аналогичным образов, поэтому в своих проектах на С++ с использованием библиотеки fuzzyops следует пользоваться документацией к коду библиотеки () и
документацией Python С/С++ API (https://docs.python.org/3/c-api/index.html) 


## Пример установки библиотеки и запуска примеров кода на С++

Приведем пример установки библиотеки 
и запуску примера кода на С++ для Ubuntu 22.04.5

### №1. Перед установкой 

Проверить, усналовлен ли компилятор g++ и gcc
(Компилятор можно ипользвать версии 9 или выше, главное чтобы он включал 11 стандарт С++) в случае примера используется g++-13
(если нет то установить)

```g++ --version```

```gcc --version```

**Примечание:** путь к компилятору g++ необходимо указать в системе сборки

Проверить, устанолен ли Python (должен быть Python 3.10 или выше) 
(если нет то установить)

```python3 --version``` или

```which python3.10```


### №2. Находим пути директорий к загловочным файлам Python и к динамическим библиотекам Python

Команда which python3.10 покажет путь к интерпретатору python3.10

В примере с Linux (Ubuntu) (which python3.10 выведет /usr/bin/python3.10)

Данная команда выведет расположение бинарного файла интерпретатора Python3.10 (в нашем случа), этот файл лежит в директории, в которой располагаются директрии
с заголовочными файлами и с динамическими библиотеками Python

Данные пути понадобятся при сборке программы на C++ с укзанием правил компиляции

Директория с заголовчными файлами python находится:
- /usr/include/python3.10

Директория с динамическими библиотеками:
- /usr/lib/python3.10/config-3.10-x86_64-linux-gnu

Обчно директория с заголовчными файлами python находится в .../include/python3.x 
А директория с динамическими библиотеками ../lib/python3.x/.. 

**Примечание:** Данные пути понадобятся при сборке программы на C++ с укзанием правил компиляции, например в Makefile или в других системах сборки проектов на C++

### №3. Установка библиотеки fuzzyops

библиотеки Python устанавливаются с помощью команды `pip install "название библиотеки"`

```pip install fuzzyops``` - установит библиотеку fuzzyops и все зависимости,
которые она использует

**Примечание:** Если вы не используете окружение anaconda, и в системе несколько версий python, то необходимо устанавливать библиотеку fuzzyops используя конкретный pip и в конкретную директорию. 
Библиотеки python устанавливаются в директорию ../site-packages, или ../dist-packages.

В нашем случае такая директория находится по пути /usr/local/lib/python3.10/dist-packages. Обычно эта директория располагается по пути ../local/lib/python3.10/site-packages/

Чтобы туда уснатовить библиотеку fuzzyops необходимо выполнить команду 
pip install с флагом --target

```pip install fuzzyops --target=/usr/local/lib/python3.10/dist-packages```

pip необходимо также использовать той версии Python, которую вы выбрали
путь к pip можно также посмотреть командой

```which pip```

**Примечание:** В примере в системе Ubuntu 22.04 установлена единственная версия интерпретатора Python, поэтому усатановка производилась командой 
```pip install fuzzyops```

### №4. Использование

После установки fuzzyops в систему или в окружение можно обращаться к библиотеки 
из С++, примеры кода на С++ для прямого вызова функций из библиотеки представлены в соответствующих файлых примеров.

В директории приведен пример Makefile для атоматической сборки и исполнения какого-либо файла из примеров.

Для проверки примеров на С++:

- склонировать библиотеку или скачать директорию cpp
- открыть в редакторе, например (https://github.com/microsoft/vscode)
- установить в систему или в окружение библиотеку fuzzyops, руководствуясь ([№1](#1-перед-установкой), №3)
- отредактировать Makefile, руководствуясь ([№1](#1-перед-установкой),
 [№2](#2-находим-пути-директорий-к-заглавочным-файлам-python-и-к-динамическим-библиотекам-python))
- выполнить команду make внутри директрии cpp
```make```
- выполнить цель ./ex
```./ex```

Перед запуском примеров необходимо посмотреть код примера на С++ (например для 
fuzzy_nn_ex.cpp, необходимо будет заменить путь на путь к Iris.csv после сачивания)

**Примечание:** Для сборки своих проектов с библиотекой fuzzyops следует руководствоваться данным Makefile, а точнее командам с флагами для компиляции с указанием путей к заголовочным файлам и к динамическим библиотекам Python, рассмотренными в [№2](#2-находим-пути-директорий-к-заглавочным-файлам-python-и-к-динамическим-библиотекам-python).


















